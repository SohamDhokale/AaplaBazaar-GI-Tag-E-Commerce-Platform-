{% extends "base.html" %}

{% block title %}AaplaBazaar - Indian E-Commerce Platform{% endblock %}

{% block content %}
<div class="hero-slider swiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide hero-slide" style="background: linear-gradient(rgba(255, 255, 255, 0.4), rgba(0, 0, 0, 0.4)), url('https://wallpapers.com/images/hd/india-pictures-b7ykjmiy60plt4h2.jpg?auto=compress&cs=tinysrgb&w=1920&h=1080') center/cover;">
            <div class="slide-content">
                <div class="hero-kicker">{{ t('hero.kicker1') }}</div>
                <h1 class="slide-title">{{ t('hero.title1') }}</h1>
                <p class="slide-subtitle">{{ t('hero.subtitle1') }}</p>
                <div class="hero-actions">
                    <a href="{{ url_for('products', lang=current_language) }}" class="btn btn-primary btn-lg">{{ t('hero.cta1_primary') }}</a>
                    <a href="{{ url_for('gi_tagged_products', lang=current_language) }}" class="btn btn-outline-light btn-lg">{{ t('hero.cta1_secondary') }}</a>
                </div>
                <ul class="hero-highlights">
                    <li><i class="fas fa-check-circle me-2"></i>{{ t('hero.highlight1') }}</li>
                    <li><i class="fas fa-check-circle me-2"></i>{{ t('hero.highlight2') }}</li>
                    <li><i class="fas fa-check-circle me-2"></i>{{ t('hero.highlight3') }}</li>
                </ul>
            </div>
        </div>
        <div class="swiper-slide hero-slide" style="background: linear-gradient(rgba(255, 255, 255, 0.4), rgba(0,0,0,0.4)), url('https://geographicalindicationsoftamilnadu.files.wordpress.com/2021/02/all-2-3.jpg?auto=compress&cs=tinysrgb&w=1920&h=1080') center/cover;">
            <div class="slide-content">
                <div class="hero-kicker">{{ t('hero.kicker2') }}</div>
                <h1 class="slide-title">{{ t('hero.title2') }}</h1>
                <p class="slide-subtitle">{{ t('hero.subtitle2') }}</p>
                <div class="hero-actions">
                    <a href="{{ url_for('gi_tagged_products', lang=current_language) }}" class="btn btn-primary btn-lg">{{ t('hero.cta2_primary') }}</a>
                    <a href="{{ url_for('products', lang=current_language) }}" class="btn btn-outline-light btn-lg">{{ t('hero.cta2_secondary') }}</a>
                </div>
            </div>
        </div>
        <div class="swiper-slide hero-slide" style="background: linear-gradient(rgba(255, 255, 255, 0.4), rgba(0,0,0,0.4)), url('https://www.visittnt.com/blog/wp-content/uploads/2019/09/navratri.jpg?auto=compress&cs=tinysrgb&w=1920&h=1080') center/cover;">
            <div class="slide-content">
                <div class="hero-kicker">{{ t('hero.kicker3') }}</div>
                <h1 class="slide-title">{{ t('hero.title3') }}</h1>
                <p class="slide-subtitle">{{ t('hero.subtitle3') }}</p>
                <div class="hero-actions">
                    <a href="{{ url_for('products', lang=current_language) }}" class="btn btn-primary btn-lg">{{ t('hero.cta3_primary') }}</a>
                    <a href="{{ url_for('wishlist', lang=current_language) if current_user.is_authenticated else url_for('register', lang=current_language) }}" class="btn btn-outline-light btn-lg">{{ t('hero.cta3_secondary') }}</a>
                </div>
            </div>
        </div>
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
</div>

<section class="trust-bar">
    <div class="container">
        <div class="trust-grid">
            <div class="trust-card">
                <span class="trust-label">{{ t('trust.artisan') }}</span>
                <h4>{{ t('trust.products') }}</h4>
                <p>{{ t('trust.products_desc') }}</p>
            </div>
            <div class="trust-card">
                <span class="trust-label">{{ t('trust.delivery') }}</span>
                <h4>{{ t('trust.delivery') }}</h4>
                <p>{{ t('trust.delivery_desc') }}</p>
            </div>
            <div class="trust-card">
                <span class="trust-label">{{ t('trust.secure') }}</span>
                <h4>{{ t('trust.secure') }}</h4>
                <p>{{ t('trust.secure_desc') }}</p>
            </div>
        </div>
    </div>
</section>

<!-- Categories -->
<section class="py-5">
    <div class="container">
        <h2 class="section-title">{{ t('categories.title') }}</h2>
        <div class="row g-4">
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}?category=clothing" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #fff8f0;">
                            <i class="fas fa-tshirt fa-3x mb-3" style="color: #FF8A00;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.clothing') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}?category=handicrafts" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #f0f8ff;">
                            <i class="fas fa-paint-brush fa-3x mb-3" style="color: #147B45;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.handicrafts') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}?category=jewelry" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #fff0f5;">
                            <i class="fas fa-gem fa-3x mb-3" style="color: #C42B1C;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.jewelry') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}?category=spices" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #fffacd;">
                            <i class="fas fa-mortar-pestle fa-3x mb-3" style="color: #8C3B0C;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.spices') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}?category=home_decor" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #f0fff0;">
                            <i class="fas fa-home fa-3x mb-3" style="color: #147B45;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.home_decor') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}?category=food_products" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #fff0f0;">
                            <i class="fas fa-utensils fa-3x mb-3" style="color: #FF8A00;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.food_products') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}?category=beauty" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #f5f0ff;">
                            <i class="fas fa-spa fa-3x mb-3" style="color: #C42B1C;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.beauty') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <a href="{{ url_for('products', lang=current_language) }}" class="category-card d-block">
                    <div class="card h-100">
                        <div class="card-body text-center p-4" style="background-color: #f0f0f0;">
                            <i class="fas fa-th-large fa-3x mb-3" style="color: #8C3B0C;"></i>
                            <h5 class="card-title mb-0">{{ t('categories.all') }}</h5>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Products -->
<section class="py-5">
    <div class="container">
        <div class="section-header">
            <div>
                <p class="section-eyebrow">{{ t('featured.eyebrow') }}</p>
                <h2 class="section-title text-start">{{ t('featured.title') }}</h2>
            </div>
            <div class="section-cta">
                <a href="{{ url_for('products', lang=current_language) }}" class="btn btn-outline-primary">{{ t('featured.cta') }}</a>
            </div>
        </div>
        <div class="product-grid">
            {% for product in featured_products %}
            <div class="product-card">
                <div class="product-image">
                    <a href="{{ url_for('product_detail', id=product.id) }}">
                        <img src="{{ product.image_url1 }}" alt="{{ product.name }}">
                    </a>
                    <div class="product-wishlist">
                        {% if current_user.is_authenticated %}
                        <form class="add-to-wishlist-form" action="{{ url_for('add_to_wishlist', product_id=product.id) }}" method="post" style="display: none;">
                            <input type="hidden" name="product_id" value="{{ product.id }}">
                        </form>
                        <button type="button" class="wishlist-btn" data-product-id="{{ product.id }}">
                            {% if product in current_user.wishlist_items|map(attribute='product')|list %}
                            <i class="fas fa-heart"></i>
                            {% else %}
                            <i class="far fa-heart"></i>
                            {% endif %}
                        </button>
                        {% else %}
                        <a href="{{ url_for('login') }}" class="wishlist-btn">
                            <i class="far fa-heart"></i>
                        </a>
                        {% endif %}
                    </div>
                </div>
                <div class="product-details">
                    <div class="product-category">{{ product.category|capitalize }}</div>
                    <h3 class="product-title">
                        <a href="{{ url_for('product_detail', id=product.id) }}">{{ product.name }}</a>
                    </h3>
                    <div class="product-price">
                        <span class="current-price">₹{{ product.price }}</span>
                        {% if product.discount_price %}
                        <span class="original-price">₹{{ product.discount_price }}</span>
                        {% endif %}
                    </div>
                    <div class="product-actions">
                        {% if current_user.is_authenticated %}
                        <form class="add-to-cart-form" action="{{ url_for('add_to_cart', product_id=product.id) }}" method="post">
                            <input type="hidden" name="quantity" value="1">
                            <button type="submit" class="btn btn-primary add-to-cart">Add to Cart</button>
                        </form>
                        {% else %}
                        <a href="{{ url_for('login') }}" class="btn btn-primary add-to-cart">Add to Cart</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{{ url_for('products') }}" class="btn btn-outline-primary btn-lg">View All Products</a>
        </div>
    </div>
</section>

<!-- Spotlight -->
<section class="spotlight-section py-5">
    <div class="container">
        <div class="row g-4 align-items-center">
            <div class="col-lg-6">
                <div class="spotlight-media" style="background-image: linear-gradient(120deg, rgba(255,138,0,0.15), rgba(20,123,69,0.15)), url('https://images.unsplash.com/photo-1520333789090-1afc82db536a?auto=format&fit=crop&w=1200&q=80');">
                    <span class="badge badge-soft">Craft stories</span>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="spotlight-copy">
                    <p class="section-eyebrow">{{ t('spotlight.eyebrow') }}</p>
                    <h2>{{ t('spotlight.title') }}</h2>
                    <p>{{ t('spotlight.desc') }}</p>
                    <ul class="checklist">
                        <li><i class="fas fa-check-circle me-2"></i>{{ t('spotlight.point1') }}</li>
                        <li><i class="fas fa-check-circle me-2"></i>{{ t('spotlight.point2') }}</li>
                        <li><i class="fas fa-check-circle me-2"></i>{{ t('spotlight.point3') }}</li>
                    </ul>
                    <a href="{{ url_for('products', lang=current_language) }}" class="btn btn-primary">{{ t('spotlight.cta') }}</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- GI Tagged Products -->
<section class="gi-tagged-section py-5">
    <div class="container">
        <h2 class="section-title">{{ t('gi.title') }}</h2>
        <p class="text-center mb-4">{{ t('gi.subtitle') }}</p>
        
        <div class="row">
            {% for product in gi_tagged_products %}
            <div class="col-md-6 col-lg-3 mb-4">
                <div class="product-card">
                    <div class="product-image">
                        <a href="{{ url_for('product_detail', id=product.id) }}">
                            <img src="{{ product.image_url1 }}" alt="{{ product.name }}">
                        </a>
                        <div class="product-wishlist">
                            {% if current_user.is_authenticated %}
                            <form class="add-to-wishlist-form" action="{{ url_for('add_to_wishlist', product_id=product.id) }}" method="post" style="display: none;">
                                <input type="hidden" name="product_id" value="{{ product.id }}">
                            </form>
                            <button type="button" class="wishlist-btn" data-product-id="{{ product.id }}">
                                {% if product in current_user.wishlist_items|map(attribute='product')|list %}
                                <i class="fas fa-heart"></i>
                                {% else %}
                                <i class="far fa-heart"></i>
                                {% endif %}
                            </button>
                            {% else %}
                            <a href="{{ url_for('login') }}" class="wishlist-btn">
                                <i class="far fa-heart"></i>
                            </a>
                            {% endif %}
                        </div>
                    </div>
                    <div class="product-details">
                        <span class="gi-badge">GI Tagged</span>
                        <div class="product-category">{{ product.origin }}</div>
                        <h3 class="product-title">
                            <a href="{{ url_for('product_detail', id=product.id) }}">{{ product.name }}</a>
                        </h3>
                        <div class="product-price">
                            <span class="current-price">₹{{ product.price }}</span>
                            {% if product.discount_price %}
                            <span class="original-price">₹{{ product.discount_price }}</span>
                            {% endif %}
                        </div>
                        <div class="product-actions">
                            {% if current_user.is_authenticated %}
                            <form class="add-to-cart-form" action="{{ url_for('add_to_cart', product_id=product.id) }}" method="post">
                                <input type="hidden" name="quantity" value="1">
                                <button type="submit" class="btn btn-primary add-to-cart">Add to Cart</button>
                            </form>
                            {% else %}
                            <a href="{{ url_for('login') }}" class="btn btn-primary add-to-cart">Add to Cart</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-4">
            <a href="{{ url_for('gi_tagged_products', lang=current_language) }}" class="btn btn-outline-primary btn-lg">{{ t('gi.cta') }}</a>
        </div>
    </div>
</section>

<!-- Features -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="feature-grid">
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-truck"></i></div>
                <div>
                    <h4>{{ t('features.free_shipping_title') }}</h4>
                    <p>{{ t('features.free_shipping_desc') }}</p>
                </div>
            </div>
            <div class="feature-card">
                <div class="feature-icon green"><i class="fas fa-undo"></i></div>
                <div>
                    <h4>{{ t('features.easy_returns_title') }}</h4>
                    <p>{{ t('features.easy_returns_desc') }}</p>
                </div>
            </div>
            <div class="feature-card">
                <div class="feature-icon red"><i class="fas fa-shield-alt"></i></div>
                <div>
                    <h4>{{ t('features.secure_payments_title') }}</h4>
                    <p>{{ t('features.secure_payments_desc') }}</p>
                </div>
            </div>
            <div class="feature-card">
                <div class="feature-icon brown"><i class="fas fa-headset"></i></div>
                <div>
                    <h4>{{ t('features.support_title') }}</h4>
                    <p>{{ t('features.support_desc') }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter -->
<section class="py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h2 class="mb-3">{{ t('newsletter.title') }}</h2>
                <p>{{ t('newsletter.subtitle') }}</p>
            </div>
            <div class="col-lg-6">
                <form class="d-flex">
                    <input type="email" class="form-control me-2" placeholder="{{ t('newsletter.placeholder') }}">
                    <button type="submit" class="btn btn-light">{{ t('newsletter.cta') }}</button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}
